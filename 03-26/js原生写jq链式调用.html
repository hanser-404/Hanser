<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>原生jq 链式调用</title>
    <script src="../../Jquery/jquery-1.10.1.js"></script>
    <style>
        ul li{
            float: left;
            list-style: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: pink;
        }
        .active{
            background: red;
        }
        .active2{
            background: #ff9900;
        }
    </style>
</head>
<body>
    <ul>
        <li class="active2"></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>

    <!--<select id="single">-->
        <!--<option>Single</option>-->
        <!--<option>Single2</option>-->
    <!--</select>-->
    <!--<select id="multiple" multiple="multiple">-->
        <!--<option selected="selected">Multiple</option>-->
        <!--<option>Multiple2</option>-->
        <!--<option selected="selected">Multiple3</option>-->
    <!--</select><br/>-->
    <!--<input type="checkbox" value="check1"/> check1-->
    <!--<input type="checkbox" value="check2"/> check2-->
    <!--<input type="radio" value="radio1"/> radio1-->
    <!--<input type="radio" value="radio2"/> radio2-->
</body>
<script>
    // $(document).ready(function () {
    //     $("#single").val("Single2");
    //     $("#multiple").val(["Multiple2", "Multiple3"]);
    //     $("input").val(["check2", "radio1"]);
    // })

    var uls = document.getElementsByTagName("ul")[0];
    var lis = uls.getElementsByTagName("li");
    for (let i = 0; i < lis.length; i++) {
        lis[i].onclick = function () {
            lian(i).addC("active2").firend().deleC("active2").addC("active")
            // lian(i).firend().deleC("active2")
            // lian(i).deleC("actve2")
        }
    }

    // 链式调用的原生js方法
    //激活方法
    function lian(index) {
        //其他兄弟元素集合
        var lis2 =[];
        return{
            //添加类名
            addC:function (className){
                lis[index].classList.add(className)
                return this;
            },
            //找到其余兄弟元素
            firend:function () {
                for (let i = 0; i < lis.length; i++) {
                    if (i == index){
                        continue;
                    }
                    lis2.push(lis[i]);
                }
                return this;
            },
            //删除类名
            deleC:function (className) {
                if (lis2.length>0){
                    for (var j =0;j<lis2.length;j++){
                        lis2[j].classList.remove(className);
                    }
                } else {
                    lis[index].classList.remove(className)
                }
                console.log(this)
                return this;

            }
        }
    }
</script>
</html>